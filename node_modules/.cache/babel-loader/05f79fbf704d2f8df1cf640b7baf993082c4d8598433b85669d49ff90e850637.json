{"ast":null,"code":"import React,{useState}from\"react\";import{UilSearch,UilLocationPoint}from\"@iconscout/react-unicons\";import{getFormattedData}from'../makeitwork/weather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Searchbar(_ref){let{onToggleTemperatureUnit,onCitySelect}=_ref;const[searchQuery,setSearchQuery]=useState(\"\");const[temperatureUnit,setTemperatureUnit]=useState('metric');const[currentLocation,setCurrentLocation]=useState(null);const handleLocationClick=()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(async position=>{const latitude=position.coords.latitude;const longitude=position.coords.longitude;try{const reverseGeocodeUrl=\"https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=\".concat(latitude,\"&longitude=\").concat(longitude,\"&localityLanguage=en\");const reverseGeocodeResponse=await fetch(reverseGeocodeUrl);const reverseGeocodeData=await reverseGeocodeResponse.json();const city=reverseGeocodeData.city;console.log(\"City:\",city);onCitySelect(city,temperatureUnit);}catch(error){console.error(\"Error getting weather data:\",error.message);}},error=>{console.error(\"Error getting user's location:\",error.message);});}else{console.error(\"Geolocation is not supported by this browser.\");}};const handleInputClick=e=>{e.target.select();};const handleSearchClick=async()=>{if(searchQuery.trim()!==\"\"){onCitySelect(searchQuery,temperatureUnit);setSearchQuery(\"\");setCurrentLocation(null);}};const handleInputChange=e=>{setSearchQuery(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-center my-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row w-3/4 items-center justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:handleInputChange,onClick:handleInputClick,onKeyDown:e=>{if(e.key==='Enter'){handleSearchClick();}},placeholder:\" Search for city.... \",className:\"text-xl font-light p-2 w-full shadow-xl focus:outline-none capitalize placeholder:lowercase rounded-full\"}),/*#__PURE__*/_jsx(UilSearch,{size:30,onClick:handleSearchClick,className:\"text-white cursor-pointer transition ease-out hover:scale-125\"}),/*#__PURE__*/_jsx(UilLocationPoint,{size:30,onClick:handleLocationClick,className:\"text-white cursor-pointer transition ease-out hover:scale-125\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row w-1/4 items-center justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{name:\"metric\",onClick:()=>onToggleTemperatureUnit('metric'),className:\"text-xl text-white font-light transition ease-out hover:scale-125\",children:\"\\xB0C\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-white mx-1\",children:\"|\"}),/*#__PURE__*/_jsx(\"button\",{name:\"imperial\",onClick:()=>onToggleTemperatureUnit('imperial'),className:\"text-xl text-white font-light transition ease-out hover:scale-125\",children:\"\\xB0F\"})]})]});}export default Searchbar;","map":{"version":3,"names":["React","useState","UilSearch","UilLocationPoint","getFormattedData","jsx","_jsx","jsxs","_jsxs","Searchbar","_ref","onToggleTemperatureUnit","onCitySelect","searchQuery","setSearchQuery","temperatureUnit","setTemperatureUnit","currentLocation","setCurrentLocation","handleLocationClick","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","reverseGeocodeUrl","concat","reverseGeocodeResponse","fetch","reverseGeocodeData","json","city","console","log","error","message","handleInputClick","e","target","select","handleSearchClick","trim","handleInputChange","value","className","children","type","onChange","onClick","onKeyDown","key","placeholder","size","name"],"sources":["/Users/zenkri/HorizonHub/src/components/Searchbar.jsx"],"sourcesContent":["import React, {useState } from \"react\";\nimport { UilSearch, UilLocationPoint } from \"@iconscout/react-unicons\";\nimport { getFormattedData } from '../makeitwork/weather';\n\nfunction Searchbar({ onToggleTemperatureUnit, onCitySelect})  {\n\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [temperatureUnit, setTemperatureUnit] = useState('metric');\n    const [currentLocation, setCurrentLocation] = useState(null);\n    \n    const handleLocationClick = () => {\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(\n              async (position) => {\n                const latitude = position.coords.latitude;\n                const longitude = position.coords.longitude;\n                try {\n                  const reverseGeocodeUrl = `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=en`;\n                  const reverseGeocodeResponse = await fetch(reverseGeocodeUrl);\n                  const reverseGeocodeData = await reverseGeocodeResponse.json();\n                  const city = reverseGeocodeData.city;\n                  console.log(\"City:\", city);\n                  onCitySelect(city,temperatureUnit);\n                } catch (error) {\n                  console.error(\"Error getting weather data:\", error.message);\n                }\n              },\n            (error) => {\n              console.error(\"Error getting user's location:\", error.message);\n            }\n          );\n        } else {\n            console.error(\"Geolocation is not supported by this browser.\");\n          }\n    };\n\n    const handleInputClick = (e) => {\n        e.target.select();\n    };\n\n    const handleSearchClick = async () => {\n        if (searchQuery.trim() !== \"\") {\n            onCitySelect(searchQuery, temperatureUnit);\n            setSearchQuery(\"\");\n            setCurrentLocation(null);\n        }\n        };\n        \n    const handleInputChange = (e) => {\n        setSearchQuery(e.target.value);\n    };\n\n    return (\n        <div className=\"flex flex-row justify-center my-6\">\n            <div className=\"flex flex-row w-3/4 items-center justify-center space-x-4\">\n                <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={handleInputChange}\n                onClick={handleInputClick}\n                onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                        handleSearchClick();\n                    }\n                }}\n                placeholder=\" Search for city.... \"\n                className=\"text-xl font-light p-2 w-full shadow-xl focus:outline-none capitalize placeholder:lowercase rounded-full\"\n                />\n                <UilSearch\n                    size={30}\n                    onClick={handleSearchClick}\n                    className=\"text-white cursor-pointer transition ease-out hover:scale-125\"\n                />\n                <UilLocationPoint\n                    size={30}\n                    onClick={handleLocationClick}\n                    className=\"text-white cursor-pointer transition ease-out hover:scale-125\"\n                />\n            </div>\n    \n          <div className=\"flex flex-row w-1/4 items-center justify-center\">\n            <button\n              name=\"metric\"\n              onClick={() => onToggleTemperatureUnit('metric')}\n              className=\"text-xl text-white font-light transition ease-out hover:scale-125\"\n            >\n              °C\n            </button>\n            <p className=\"text-xl text-white mx-1\">|</p>\n            <button\n              name=\"imperial\"\n              onClick={() => onToggleTemperatureUnit('imperial')}\n              className=\"text-xl text-white font-light transition ease-out hover:scale-125\"\n            >\n              °F\n            </button>\n          </div>\n        </div>\n      );\n}\n\nexport default Searchbar\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}